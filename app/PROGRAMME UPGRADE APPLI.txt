ğŸš€ Ã‰tapes prioritaires pour avancer rapidement
âœ… 1. Ã‰tendre le modÃ¨le User avec role et province_id
Ajoute les colonnes role (String) et province_id (ForeignKey) dans ton modÃ¨le User

CrÃ©e une table Province avec les 9 provinces du Gabon

PrÃ©-remplis cette table (migration ou script dâ€™initialisation)

ğŸ¯ But : permettre lâ€™attribution des utilisateurs Ã  une province et un rÃ´le

âœ… 2. Mettre Ã  jour la logique de crÃ©ation dâ€™utilisateur
Dans le formulaire de crÃ©ation :

Si super admin â†’ peut choisir la province et le rÃ´le

Si superviseur provincial â†’ province fixÃ©e automatiquement, rÃ´les limitÃ©s Ã  contrÃ´leur, chef_equipe, agent_recenseur

CÃ´tÃ© backend, vÃ©rifie que le superviseur ne crÃ©e que dans sa province

ğŸ¯ But : sÃ©curiser la crÃ©ation dâ€™utilisateurs selon les droits

âœ… 3. Filtrer les vues selon le rÃ´le connectÃ©
Dans les routes FastAPI et les templates :

super_admin â†’ voit tout

superviseur_provincial â†’ voit uniquement les utilisateurs, zones, familles de sa province

Applique ce filtre dans :

utilisateurs.html

zones.html

familles.html (si applicable)

ğŸ¯ But : cloisonner les donnÃ©es par province

âœ… 4. Ajouter lâ€™import CSV gÃ©nÃ©rique
CrÃ©e un composant rÃ©utilisable pour importer des fichiers .csv

Pour chaque module (utilisateurs, zones, etc.) :

Ajoute un bouton "Importer CSV"

Analyse le fichier, valide les colonnes

Associe automatiquement la province du superviseur connectÃ©

Journalise les erreurs ligne par ligne

ğŸ¯ But : accÃ©lÃ©rer la saisie de masse sans erreurs

âœ… 5. GÃ©rer lâ€™attribution des zones
Dans utilisateurs.html, ajoute un bouton "Attribuer une zone"

Filtre les zones disponibles par province

VÃ©rifie que lâ€™utilisateur et la zone sont dans la mÃªme province

ğŸ¯ But : permettre au superviseur de gÃ©rer les affectations